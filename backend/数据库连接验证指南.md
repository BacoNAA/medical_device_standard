# æ•°æ®åº“è¿æ¥éªŒè¯æŒ‡å—

**é¡¹ç›®åç§°ï¼š** åŒ»ç–—å™¨æ¢°æ ‡å‡†æ•°æ®åº“ä¸åº”ç”¨ç³»ç»Ÿ  
**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0

---

## ğŸ“‹ éªŒè¯æ­¥éª¤

### æ­¥éª¤1ï¼šæ‰§è¡ŒSQLè„šæœ¬åˆ›å»ºæ•°æ®åº“

**ä½¿ç”¨VSCode MySQLæ‰©å±•æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼š**

1. æ‰“å¼€ `backend/src/main/resources/sql/01_create_database.sql`
2. å³é”® â†’ `Run MySQL Query`
3. ä¾æ¬¡æ‰§è¡Œ `02_create_tables.sql` å’Œ `03_insert_init_data.sql`

**éªŒè¯æ•°æ®åº“åˆ›å»ºæˆåŠŸï¼š**

```sql
SHOW DATABASES LIKE 'medical_device_standards';
```

**é¢„æœŸç»“æœï¼š** æ˜¾ç¤ºæ•°æ®åº“ `medical_device_standards`

---

### æ­¥éª¤2ï¼šéªŒè¯æ•°æ®è¡¨åˆ›å»ºæˆåŠŸ

```sql
USE medical_device_standards;
SHOW TABLES;
```

**é¢„æœŸç»“æœï¼š** æ˜¾ç¤º15ä¸ªè¡¨

```
+------------------------------------+
| Tables_in_medical_device_standards |
+------------------------------------+
| Appendix                           |
| Clause                             |
| Equipment                          |
| EquipmentKeyword                   |
| ErrorReport                        |
| ExportTemplate                     |
| ItemEquipment                      |
| Method                             |
| OperationLog                       |
| PTRDocument                        |
| RequirementItem                    |
| Standard                           |
| TemplateField                      |
| TermDefinition                     |
| User                               |
+------------------------------------+
```

---

### æ­¥éª¤3ï¼šéªŒè¯æµ‹è¯•æ•°æ®æ’å…¥æˆåŠŸ

```sql
USE medical_device_standards;

SELECT 
    (SELECT COUNT(*) FROM User) AS 'ç”¨æˆ·æ•°',
    (SELECT COUNT(*) FROM Standard) AS 'æ ‡å‡†æ•°',
    (SELECT COUNT(*) FROM RequirementItem) AS 'æ£€éªŒé¡¹ç›®æ•°',
    (SELECT COUNT(*) FROM Equipment) AS 'è®¾å¤‡æ•°';
```

**é¢„æœŸç»“æœï¼š**

```
+--------+--------+------------+--------+
| ç”¨æˆ·æ•° | æ ‡å‡†æ•° | æ£€éªŒé¡¹ç›®æ•° | è®¾å¤‡æ•° |
+--------+--------+------------+--------+
|      6 |      1 |          4 |      3 |
+--------+--------+------------+--------+
```

---

### æ­¥éª¤4ï¼šè¿è¡ŒJavaæµ‹è¯•éªŒè¯è¿æ¥

**åœ¨backendç›®å½•æ‰§è¡Œï¼š**

```bash
mvn test -Dtest=DatabaseConnectionTest
```

**é¢„æœŸç»“æœï¼š** æ‰€æœ‰5ä¸ªæµ‹è¯•é€šè¿‡

```
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0
```

**æµ‹è¯•å†…å®¹ï¼š**
1. âœ… éªŒè¯æ•°æ®æºé…ç½®æˆåŠŸ
2. âœ… éªŒè¯æ•°æ®åº“è¿æ¥æˆåŠŸ
3. âœ… éªŒè¯MyBatis-Plus Mapperé…ç½®æˆåŠŸ
4. âœ… éªŒè¯æ•°æ®åº“è¡¨æŸ¥è¯¢æˆåŠŸ
5. âœ… éªŒè¯PascalCaseå­—æ®µæ˜ å°„æˆåŠŸ

---

## âŒ å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šUnknown database 'medical_device_standards'

**é”™è¯¯ä¿¡æ¯ï¼š**
```
java.sql.SQLSyntaxErrorException: Unknown database 'medical_device_standards'
```

**åŸå› ï¼š** æ•°æ®åº“æœªåˆ›å»º

**è§£å†³æ–¹æ¡ˆï¼š** æ‰§è¡Œæ­¥éª¤1åˆ›å»ºæ•°æ®åº“

---

### é—®é¢˜2ï¼šAccess denied for user 'root'@'localhost'

**é”™è¯¯ä¿¡æ¯ï¼š**
```
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
```

**åŸå› ï¼š** æ•°æ®åº“å¯†ç é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š** ä¿®æ”¹ `backend/src/main/resources/application-dev.yaml` ä¸­çš„å¯†ç 

```yaml
spring:
  datasource:
    password: ä½ çš„å®é™…å¯†ç 
```

---

### é—®é¢˜3ï¼šCommunications link failure

**é”™è¯¯ä¿¡æ¯ï¼š**
```
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
```

**åŸå› ï¼š** MySQLæœåŠ¡æœªå¯åŠ¨æˆ–ç«¯å£é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. å¯åŠ¨MySQLæœåŠ¡
2. æ£€æŸ¥ç«¯å£æ˜¯å¦ä¸º3306

---

### é—®é¢˜4ï¼šå­—æ®µæ˜ å°„å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
org.apache.ibatis.reflection.ReflectionException: Could not set property 'xxx'
```

**åŸå› ï¼š** å­—æ®µåä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆï¼š** ç¡®è®¤ä»¥ä¸‹é…ç½®ï¼š

```yaml
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: false  # å¿…é¡»ä¸ºfalse
```

---

## âœ… éªŒè¯æˆåŠŸæ ‡å¿—

å½“æ‰€æœ‰æµ‹è¯•é€šè¿‡æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```
âœ… æ•°æ®æºé…ç½®æˆåŠŸ
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
æ•°æ®åº“URL: jdbc:mysql://localhost:3306/medical_device_standards
æ•°æ®åº“ç”¨æˆ·: root
æ•°æ®åº“äº§å“: MySQL
æ•°æ®åº“ç‰ˆæœ¬: 8.0.x

âœ… MyBatis-Plus Mapperé…ç½®æˆåŠŸ

âœ… æ•°æ®åº“è¡¨æŸ¥è¯¢æˆåŠŸ
ç”¨æˆ·æ€»æ•°: 6

ç”¨æˆ·åˆ—è¡¨ï¼š
- UserID: 1, Username: sysadmin, RoleType: 2
- UserID: 2, Username: dataadmin, RoleType: 1
- UserID: 3, Username: yw001, RoleType: 3
- UserID: 4, Username: zl001, RoleType: 4
- UserID: 5, Username: sb001, RoleType: 5
- UserID: 6, Username: sy001, RoleType: 6

âœ… PascalCaseå­—æ®µæ˜ å°„æˆåŠŸ
ç¤ºä¾‹ç”¨æˆ·æ•°æ®ï¼š
  UserID: 1
  Username: sysadmin
  RealName: ç³»ç»Ÿç®¡ç†å‘˜
  RoleType: 2
  CreatedTime: 2025-11-14 10:00:00
```

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**æ›´æ–°æ—¶é—´ï¼š** 2025-11-14

