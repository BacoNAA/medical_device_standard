# 医疗器械标准数据库与应用系统 - 前端演示

## 📋 项目说明

这是一个医疗器械标准数据库与应用系统的前端演示项目，用于展示系统的核心功能和完整的数据流程。

**基于需求规格说明书：** v4.0

**主要功能演示：**
1. ✅ **标准数据导入预览** - 展示Excel导入后的智能处理结果（带颜色标注）
2. ✅ **标准详情完整展示** - 展示标准的所有信息（基本信息、检验项目、说明性内容、附录）
3. ✅ **设备信息管理** - 展示设备库和关键词库的维护
4. ✅ **标准列表浏览** - 展示标准的检索和浏览功能
5. ✅ **产品技术要求编辑** - 展示PTR文档编制功能，含智能联想和模板插入
6. ✅ **表格导出功能** - 展示表1、表2、表3的导出预览和筛选功能

---

## 🎯 演示重点

### 1. 导入预览页面（ImportPreview）

**展示内容：**
- 📊 **四步骤流程**：上传文件 → 系统自动处理 → 预览确认 → 完成导入
- 📈 **处理结果统计**：成功、待确认、需补充的数量统计
- 📋 **表格化预览**：所有检验项目带状态颜色标注
  - 🟢 **绿色**：自动处理成功
  - 🟡 **黄色**：新设备需确认
  - 🔴 **红色**：需人工补充
- 🆕 **新设备确认区**：展示识别到的新设备，需要审核
- ⚠️ **待补充信息区**：展示需要人工补充的项目

**业务价值：**
- 体现"半自动导入"的核心理念
- 数据输入员只需"发起导入"和"微调审核"
- 大幅减少人工复制粘贴工作

---

### 2. 标准详情页面（StandardDetail）

**展示内容：**
- 📄 **标准基本信息**：编号、名称、发布日期、实施日期等
- 📑 **三个标签页**：
  
  **① 检验项目标签页：**
  - 表格展示所有检验项目
  - 支持搜索和筛选
  - 点击展开查看详细信息：
    - 项目要求
    - 检验方法（含附录引用）
    - 使用设备（带规格要求）
    - 注意事项

  **② 说明性内容标签页：**
  - 适用范围
  - 规范性引用文件
  - 术语和定义（编号、中英文名称、定义、示例）
  - 前言
  - 引言

  **③ 附录内容标签页：**
  - 附录A、附录B等完整内容
  - 显示附录类型（规范性/资料性）
  - 分章节展示（如B.1、B.2、B.3等）

**业务价值：**
- 完整展示标准的所有结构化信息
- 方便用户快速查找和浏览
- 为后续导出和引用提供数据基础

---

### 3. 设备管理页面（EquipmentManage）

**展示内容：**
- 📊 **统计信息**：设备总数、项目关联数、规格类型数
- 📋 **设备列表**：
  - 设备编号（格式：字母+3位数字，如A001）
  - 设备名称（同类型设备只有一条记录）
  - 通用描述和用途说明
  - 关联的项目数量
  - 关联的规格类型数量
- 🔑 **设备关键词库**：
  - 展示每个设备的识别关键词
  - 用于导入时智能识别设备

**业务价值：**
- 展示"同类型设备只创建一条记录"的设计
- 具体规格要求记录在项目关联中
- 关键词库支持智能识别

---

### 5. 产品技术要求编辑页面（PTREditor）

**展示内容：**
- 📝 **文档列表**：展示已创建的PTR文档（草稿/已发布状态）
- ✏️ **三栏编辑器**：
  - 左侧：章节树（5个标准章节）
  - 中间：富文本编辑区（支持产品信息表单和文本编辑）
  - 右侧：智能辅助面板
- 🎯 **智能辅助功能**：
  - **模板插入**：快速插入标准语句模板
  - **联想查找**：输入关键词搜索标准内容，一键插入要求或方法
  - **自动记录引用**：插入时自动标注引用来源
- 💾 **自动保存**：2秒自动保存，显示保存状态
- 📊 **字数统计**：实时显示字数
- 🔄 **生成第3章框架**：基于第2章内容自动生成检验方法框架

**业务价值：**
- 提升PTR编制效率
- 规范化文档格式
- 减少手工查找和复制工作

---

### 6. 表格导出页面

#### 表1：能力建设信息网站项目表（ExportTable1）

**展示内容：**
- 选择标准 + 项目名称筛选
- 预览表格：项目名称、标准编号、项目条款
- 导出Excel功能（Demo）

**适用角色：** 质量管理人员（zl###）

---

#### 表2：认可检验检测能力表（ExportTable2）

**展示内容：**
- **两级设备筛选**：
  - 第一级：选择设备大类（如"A001 - 电子天平"）
  - 第二级：选择规格要求（动态生成，如"分度值0.1mg"）
- 预览表格：项目名称、标准名称、标准编号+条款、使用设备
- 使用设备格式：`设备名称（规格要求）`，如`电子天平（分度值0.1mg）`
- 导出Excel功能（Demo）

**适用角色：** 设备管理人员（sb###）

**核心特色：** 两级筛选功能精准定位设备能力

---

#### 表3：操作规程表（ExportTable3）

**展示内容：**
- 选择标准 + 项目名称/条款筛选
- 预览表格（8列完整信息）：
  - 标准编号、标准名称、项目条款、项目名称
  - 项目要求、使用设备、项目方法、注意事项
- 使用设备格式：`设备名称（规格要求）`
- 导出格式说明弹窗
- 导出Excel功能（Demo）

**适用角色：** 实验室人员（sy###）

**核心特色：** 最全面的项目信息，包含8个字段

---

## 🚀 快速启动

### 前置要求

- Node.js 16+ 
- npm 或 yarn

### 安装依赖

```bash
cd frontend-demo
npm install
```

### 启动开发服务器

```bash
npm run dev
```

**或者直接双击运行：**
```
启动开发服务器.bat
```

浏览器会自动打开 `http://localhost:3000`

---

## 📂 项目结构

```
frontend-demo/
├── src/
│   ├── views/                    # 页面组件
│   │   ├── ImportPreview.vue     # 导入预览页面（核心）
│   │   ├── StandardDetail.vue    # 标准详情页面（核心）
│   │   ├── StandardList.vue      # 标准列表页面
│   │   └── EquipmentManage.vue   # 设备管理页面
│   ├── mock/                     # 模拟数据
│   │   └── standardData.js       # 完整的标准数据结构
│   ├── router/                   # 路由配置
│   │   └── index.js
│   ├── App.vue                   # 根组件
│   └── main.js                   # 入口文件
├── package.json                  # 项目配置
├── vite.config.js                # Vite配置
└── README.md                     # 本文件
```

---

## 🎨 技术栈

- **Vue 3** - 渐进式JavaScript框架
- **Element Plus** - Vue 3组件库
- **Vue Router** - 路由管理
- **Vite** - 快速构建工具

---

## 📊 数据结构说明

### Mock数据包含：

1. **标准基本信息**（standardInfo）
   - 标准编号、名称、发布日期等
   - 适用范围、规范性引用文件
   - 前言、引言

2. **术语定义**（terms）
   - 术语编号、中英文名称
   - 定义、示例

3. **检验项目**（requirementItems）
   - 项目条款、项目名称
   - 项目要求、项目方法
   - 方法类型（1-无独立方法，2-引用附录，3-完整方法）
   - 关联设备（含规格要求）
   - 导入状态（success/warning/error）

4. **附录内容**（appendices）
   - 附录编号、标题、类型
   - 分章节内容（sections）

5. **设备信息**（equipments）
   - 设备编号、名称、描述
   - 关联项目数、规格类型列表

---

## 🔍 页面导航路径

| 页面 | 路径 | 说明 |
|------|------|------|
| 导入预览 | `/import-preview` | 默认首页，展示导入流程 |
| 标准详情 | `/standard-detail/:id` | 展示完整的标准信息 |
| 标准列表 | `/standard-list` | 浏览所有标准 |
| 设备管理 | `/equipment-manage` | 管理设备和关键词库 |

---

## 💡 使用建议

### 1. **查看导入流程**
   - 访问首页（导入预览）
   - 查看"处理结果统计"卡片
   - 浏览检验项目表格，注意颜色标注
   - 查看"新设备确认"和"待补充信息"区域

### 2. **查看完整标准信息**
   - 点击"确认导入"按钮
   - 自动跳转到标准详情页面
   - 切换三个标签页查看不同内容
   - 点击检验项目展开查看详细信息

### 3. **浏览设备管理**
   - 点击右上角"设备管理"按钮
   - 查看设备统计信息
   - 展开设备行查看详细信息和规格列表
   - 查看设备关键词库

---

## 📝 关键业务逻辑

### 1. 导入预览的颜色标注逻辑

```javascript
// 根据处理状态显示不同颜色
- status: 'success' → 🟢 绿色（自动处理成功）
- status: 'warning' → 🟡 黄色（新设备需确认）
- status: 'error'   → 🔴 红色（需人工补充）
```

### 2. 方法类型的三种形式

```javascript
// methodType字段区分三种方法表达形式
1: 无独立方法 - 项目要求中已包含方法
2: 引用附录   - 方法单独在附录中，methodRef存储引用
3: 完整方法   - methodContent存储完整方法内容
```

### 3. 设备信息的设计

```javascript
// 设备表：同类型设备只一条记录
Equipment {
  code: 'A001',
  name: '电子天平',
  // 不记录具体规格型号
}

// 项目设备关联表：记录具体规格要求
ItemEquipment {
  itemId: 1,
  equipmentCode: 'A001',
  specification: '分度值0.1mg'  // 具体规格在这里
}
```

---

## ⚠️ 注意事项

1. **本项目为演示版本**，使用Mock数据，不包含后端接口
2. **所有数据都是静态的**，刷新页面会重置
3. **功能按钮为演示性质**，点击后会显示提示信息
4. **重点关注页面布局和信息展示方式**，而非交互功能

---

## 🎯 与需求规格说明书的对应关系

| 需求章节 | 对应页面 | 说明 |
|---------|---------|------|
| 3.5.1 Excel半自动导入 | ImportPreview | 展示导入流程和智能处理结果 |
| 4.2.2.2 标准内容浏览 | StandardDetail | 展示标准的完整信息结构 |
| 4.2.3.1 设备信息维护 | EquipmentManage | 展示设备管理和编号规则 |
| 4.2.3.3 设备关键词库 | EquipmentManage | 展示关键词库用于智能识别 |
| 3.4.2 检验项目表结构 | StandardDetail | 展示MethodType等字段设计 |
| 3.4.4/3.4.5 设备表设计 | EquipmentManage | 展示设备和关联关系 |

---

## 📞 反馈与建议

如有任何问题或建议，请及时反馈。

**项目版本：** v1.0  
**更新日期：** 2025-10-22
